<!DOCTYPE html>
{% extends "index.html" %}
{% load static %}

{% block main_content %}
<div class="container" style="margin-top: 20px;">
    <h2>Edit Study</h2>
    <form action="{% url 'edit_study' study.id %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" class="form-control" name="title" value="{{ study.title }}" required>
        </div>
        <div class="form-group">
            <label for="description">Description:</label>
            <textarea class="form-control" name="description" rows="3" required>{{ study.description }}</textarea>
        </div>
        <div class="form-group">
            <label for="abstract">Abstract:</label>
            <textarea class="form-control" name="abstract" rows="3" required>{{ study.abstract }}</textarea>
        </div>
        <div class="form-group">
            <label for="keywords">Keywords:</label>
            <input type="text" class="form-control" name="keywords" value="{{ study.keywords }}" required>
        </div>
        <div class="form-group">
            <label for="status">Status:</label>
            <input type="text" class="form-control" name="status" value="{{ study.status }}" required>
        </div>
        <div class="form-group">
            <label for="date_started">Date Started:</label>
            <input type="date" class="form-control" name="date_started" value="{{ study.date_started|date:'Y-m-d' }}" required>
        </div>
        <div class="form-group">
            <label for="researchers">Researchers:</label>
            <textarea class="form-control" name="researchers" rows="2" required>{{ study.researchers }}</textarea>
        </div>
        <div class="form-group">
            <label for="file">Upload File:</label>
            {% if study.file %}
            <p>Current file: <a href="{{ study.file.url }}">Download</a></p>
            {% endif %}
            <input type="file" class="form-control" name="file">
        </div>
        <div class="d-flex justify-content-center" style="margin-top: 15px;">
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </form>
</div>
{% endblock %}
